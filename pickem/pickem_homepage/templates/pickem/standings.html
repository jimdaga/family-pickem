{% extends 'pickem/base.html' %}
{% load static %}
{% load socialaccount %}
{% load pickem_homepage_extras %}

{% block content %}

<div class="container min-vh-100">
    <link rel="stylesheet" href="{% static 'css/style.css' %}">

    <br><br><br><br>
    <div class="container" style="width: 100%; padding: 0px;">
        <div class="col">
            <div class="table-responsive border p-3 bg-light rounded text-center">
                <h3>Leauge Standings</h3>
                <hr>
                <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
             

                <div class="container" style="width: 99%; padding: 0px;">
                    <div class="row" >
                        <div class="col-md-6 mb-3">

                            <div class="border p-3 bg-dark rounded-top text-center">
                                <b class="text-white">Overall Points</b>
                            </div>

                            <div class="border p-3 bg-light rounded-bottom text-center">
                                {% for player in player_points %}
                                <div class="player-info-wrapper">        
                                    <span class="player-row">
                                        {% with player.userID|lookupname as username %}
                                        {% with player.userID|lookupavatar as avatar %}
                                        <div class="container-fluid">
                                            <div class="row align-items-center">
                                                <div class="col-auto pr-2">
                                                    <img class="player-profile-img" src="{{ avatar }}">
                                                </div>
                                                <div class="col">
                                                    <h8 class="player-username text-uppercase d-flex justify-content-start">{{ username }}</h8>
                                                </div>

                                                <div class="col text-right">
                                                    <h8 class="player-score d-flex justify-content-end">
                                                        {{ player.total_points }}
                                                    </h8>
                                                </div>                            
                                            </div>
                                        </div>
                                        {% endwith %}
                                        {% endwith %}
                                    </span>
                                </div>
                                {% endfor %}
                            </div>
                        </div>
                        
                        <div class="col-md-6 mb-3">

                            <div class="border p-3 bg-dark rounded-top text-center">
                                <b class="text-white">Week Winners</b>
                            </div>
                            
                            <div class="border p-3 bg-light rounded-bottom text-center">
                                {% for i in 18|times %}
                                <div class="player-info-wrapper">        
                                    <span class="player-row">
                                        <div class="container-fluid">
                                            <div class="row align-items-center">
                                                <div class="col text-right">
                                                    <h8 class="player-username text-uppercase d-flex justify-content-start">
                                                        Week {{ i }}
                                                    </h8>
                                                </div>

                                                <div class="col text-right">
                                                    <h8 class="player-score d-flex text-uppercase justify-content-end">
                                                        {% with i|lookweekwinner as winnername %}
                                                            {% for x in winnername %}
                                                                {% with x.userID|lookupname as username %}
                                                                    {{ username }}
                                                                {% endwith %}
                                                            {% endfor %}
                                                        {% endwith %}
                                                    </h8>
                                                </div>                            
                                            </div>
                                        </div>
                                    </span>
                                </div>
                                {% endfor %}
                            </div>
                        </div>
                    </div>
                  </div>

                <div class="container" style="width: 99%; padding: 0px;">
                    <div class="row" >
                        <div class="mb-3">

                            <div class="border p-3 bg-dark rounded-top text-center">
                                <b class="text-white">Week Details</b>
                            </div>

                            <div class="border p-3 bg-light rounded-bottom text-center">

                                <table class="styled-table center" style="width: 90%;">
                                    <thead>
                                        <tr>
                                            <th>Week</th>
                                            <th>1</th>
                                            <th>2</th>
                                            <th>3</th>
                                            <th>4</th>
                                            <th>5</th>
                                            <th>6</th>
                                            <th>7</th>
                                            <th>8</th>
                                            <th>9</th>
                                            <th>10</th>
                                            <th>11</th>
                                            <th>12</th>
                                            <th>13</th>
                                            <th>14</th>
                                            <th>15</th>
                                            <th>16</th>
                                            <th>17</th>
                                            <th>18</th>
                                            <th>Total</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        {% for player in player_points %}
                                        <tr>
                                            {% with player.userID|lookupname as username %}
                                            <td class="text-uppercase"><b>{{ username }}</b></td>
                                            {% endwith %}
                                            
                                            {% if player.week_1_points != None %}
                                                <td>
                                                    {{ player.week_1_points }}
                                                    {% if player.week_1_winner == True %}
                                                    + &#127942;
                                                    {% endif %}
                                                </td>
                                            {% else %}
                                            <td>&nbsp;</td>
                                            {% endif %}

                                            {% if player.week_2_points != None %}
                                            <td>
                                                {{ player.week_2_points }}
                                                {% if player.week_2_winner == True %}
                                                + &#127942;
                                                {% endif %}
                                            </td>
                                            {% else %}
                                            <td>&nbsp;</td>
                                            {% endif %}

                                            {% if player.week_3_points != None %}
                                            <td>
                                                {{ player.week_3_points }}
                                                {% if player.week_3_winner == True %}
                                                + &#127942;
                                                {% endif %}
                                            </td>
                                            {% else %}
                                            <td>&nbsp;</td>
                                            {% endif %}

                                            {% if player.week_4_points != None %}
                                            <td>
                                                {{ player.week_4_points }}
                                                {% if player.week_4_winner == True %}
                                                + &#127942;
                                                {% endif %}
                                            </td>
                                            {% else %}
                                            <td>&nbsp;</td>
                                            {% endif %}

                                            {% if player.week_5_points != None %}
                                            <td>
                                                {{ player.week_5_points }}
                                                {% if player.week_5_winner == True %}
                                                + &#127942;
                                                {% endif %}
                                            </td>
                                            {% else %}
                                            <td>&nbsp;</td>
                                            {% endif %}

                                            {% if player.week_6_points != None %}
                                            <td>
                                                {{ player.week_6_points }}
                                                {% if player.week_6_winner == True %}
                                                + &#127942;
                                                {% endif %}
                                            </td>
                                            {% else %}
                                            <td>&nbsp;</td>
                                            {% endif %}

                                            {% if player.week_7_points != None %}
                                            <td>
                                                {{ player.week_7_points }}
                                                {% if player.week_7_winner == True %}
                                                + &#127942;
                                                {% endif %}
                                            </td>
                                            {% else %}
                                            <td>&nbsp;</td>
                                            {% endif %}

                                            {% if player.week_8_points != None %}
                                            <td>
                                                {{ player.week_8_points }}
                                                {% if player.week_8_winner == True %}
                                                + &#127942;
                                                {% endif %}
                                            </td>
                                            {% else %}
                                            <td>&nbsp;</td>
                                            {% endif %}

                                            {% if player.week_9_points != None %}
                                            <td>
                                                {{ player.week_9_points }}
                                                {% if player.week_9_winner == True %}
                                                + &#127942;
                                                {% endif %}
                                            </td>
                                            {% else %}
                                            <td>&nbsp;</td>
                                            {% endif %}

                                            {% if player.week_10_points != None %}
                                            <td>
                                                {{ player.week_10_points }}
                                                {% if player.week_10_winner == True %}
                                                + &#127942;
                                                {% endif %}
                                            </td>
                                            {% else %}
                                            <td>&nbsp;</td>
                                            {% endif %}

                                            {% if player.week_11_points != None %}
                                            <td>
                                                {{ player.week_11_points }}
                                                {% if player.week_11_winner == True %}
                                                + &#127942;
                                                {% endif %}
                                            </td>
                                            {% else %}
                                            <td>&nbsp;</td>
                                            {% endif %}

                                            {% if player.week_12_points != None %}
                                            <td>
                                                {{ player.week_12_points }}
                                                {% if player.week_12_winner == True %}
                                                + &#127942;
                                                {% endif %}
                                            </td>
                                            {% else %}
                                            <td>&nbsp;</td>
                                            {% endif %}

                                            {% if player.week_13_points != None %}
                                            <td>
                                                {{ player.week_13_points }}
                                                {% if player.week_13_winner == True %}
                                                + &#127942;
                                                {% endif %}
                                            </td>
                                            {% else %}
                                            <td>&nbsp;</td>
                                            {% endif %}

                                            {% if player.week_14_points != None %}
                                            <td>
                                                {{ player.week_14_points }}
                                                {% if player.week_14_winner == True %}
                                                + &#127942;
                                                {% endif %}
                                            </td>
                                            {% else %}
                                            <td>&nbsp;</td>
                                            {% endif %}

                                            {% if player.week_15_points != None %}
                                            <td>
                                                {{ player.week_15_points }}
                                                {% if player.week_15_winner == True %}
                                                + &#127942;
                                                {% endif %}
                                            </td>
                                            {% else %}
                                            <td>&nbsp;</td>
                                            {% endif %}

                                            {% if player.week_16_points != None %}
                                            <td>
                                                {{ player.week_16_points }}
                                                {% if player.week_16_winner == True %}
                                                + &#127942;
                                                {% endif %}
                                            </td>
                                            {% else %}
                                            <td>&nbsp;</td>
                                            {% endif %}

                                            {% if player.week_17_points != None %}
                                            <td>
                                                {{ player.week_17_points }}
                                                {% if player.week_17_winner == True %}
                                                + &#127942;
                                                {% endif %}
                                            </td>
                                            {% else %}
                                            <td>&nbsp;</td>
                                            {% endif %}

                                            {% if player.week_18_points != None %}
                                            <td>
                                                {{ player.week_18_points }}
                                                {% if player.week_18_winner == True %}
                                                + &#127942;
                                                {% endif %}
                                            </td>
                                            {% else %}
                                            <td>&nbsp;</td>
                                            {% endif %}

                                            {% if player.total_points != None %}
                                            <td>{{ player.total_points }}</td>
                                            {% else %}
                                            <td>0</td>
                                            {% endif %}
                                        </tr>
                                        {% endfor %}
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}